(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,a,t){e.exports=t.p+"static/media/logoRelais.b72ddc5e.png"},21:function(e,a,t){e.exports=t(35)},29:function(e,a,t){},30:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(16),i=t.n(l),c=(t(29),t(30),t(5)),r=t(7),s=t(17),m=[{agente:"PrimaSea",codigoPerfil:"92532",agenteCCEE:"PRIMASEA",pontos:[{ponto:"BAPRCDENTR101",descricao:"\u2800",fileName:"PRIMASEA"}]},{agente:"Am\xe9ricas Barra",codigoPerfil:"82044",agenteCCEE:"HOTEL AMERICAS BARRA",pontos:[{ponto:"RJHABTENTR101",descricao:"\u2800",fileName:"AMBARRA"}]},{agente:"Am\xe9ricas Copacabana",codigoPerfil:"84777",agenteCCEE:"AMERICAS COPACABANA",pontos:[{ponto:"RJACBRENTR101",descricao:"\u2800",fileName:"AMCOPA"}]},{agente:"Aquario",codigoPerfil:"82523",agenteCCEE:"AQUARIO-RIO",pontos:[{ponto:"RJAQGAENTR101",descricao:"\u2800",fileName:"AQUARIO"}]},{agente:"Brisa",codigoPerfil:"71112",agenteCCEE:"BRISA",pontos:[{ponto:"RJBRIBENTR101",descricao:"Brisa",fileName:"BRISA"},{ponto:"RJHICTENTR101",descricao:"Imperial",fileName:"IMPERIAL"},{ponto:"RJVHBRENTR101",descricao:"Vilamar",fileName:"VILAMAR"}]},{agente:"Ed. Cidade do Carmo",codigoPerfil:"79181",agenteCCEE:"EDIFICIO CIDADE DO CARMO",pontos:[{ponto:"RJEDCCENTR101",descricao:"\u2800",fileName:"CECC"}]},{agente:"Ed. Avenida Central",codigoPerfil:"70058",agenteCCEE:"EDIFICIO AVENIDA CENTRAL",pontos:[{ponto:"RJCNDCENTR101",descricao:"\u2800",fileName:"CEAC"}]},{agente:"Condom\xednio Jardim",codigoPerfil:"82222",agenteCCEE:"CONDOMINIO JARDIM BARRA TIJUCA",pontos:[{ponto:"RJCJBTENTR101",descricao:"\u2800",fileName:"CJBT"}]},{agente:"Ed. Rodolpho De Paoli",codigoPerfil:"91905",agenteCCEE:"DE PAOLI",pontos:[{ponto:"RJDPNPENTR101",descricao:"\u2800",fileName:"DEPAOLI"}]},{agente:"Downtown",codigoPerfil:"70544",agenteCCEE:"DOWNTOWN",pontos:[{ponto:"RJDOBTALBL106",descricao:"Bloco 1",fileName:"DOWNTOWN_BL1"},{ponto:"RJDOBTALBL605",descricao:"Bloco 6",fileName:"DOWNTOWN_BL6"},{ponto:"RJDOBTALCND01",descricao:"Bloco 17",fileName:"DOWNTOWN_BL17"},{ponto:"RJDOBTALCHI04",descricao:"Bloco 17SM",fileName:"DOWNTOWN_BL17SM"},{ponto:"RJDOBTALDBL02",descricao:"Bloco 11/12",fileName:"DOWNTOWN_BL1112"},{ponto:"RJDOBTALSHO03",descricao:"Bloco 14/18",fileName:"DOWNTOWN_BL1418"}]},{agente:"Iate Clube",codigoPerfil:"84772",agenteCCEE:"ICRJ",pontos:[{ponto:"RJICRJENTR101",descricao:"Rio",fileName:"ICRJ_RIO"},{ponto:"RJICARENTR101",descricao:"Angra",fileName:"ICRJ_ANGRA"},{ponto:"RJICCFENTR101",descricao:"Cabo Frio",fileName:"ICRJ_CABOFRIO"}]},{agente:"Independ\xeancia",codigoPerfil:"83662",agenteCCEE:"INDEPENDENCIA ADM",pontos:[{ponto:"RJIDCBENTR101",descricao:"ABC",fileName:"INDEPEN_ABC"},{ponto:"RJIDBFENTR101",descricao:"BBC",fileName:"INDEPEN_BBC"},{ponto:"RJIDCNENTR101",descricao:"PBC",fileName:"INDEPEN_PBC"}]},{agente:"Link",codigoPerfil:"86321",agenteCCEE:"LINK",pontos:[{ponto:"RJLYASENTR101",descricao:"Office",fileName:"LINK_OFFICE"},{ponto:"RJLIASENTR101",descricao:"Stay",fileName:"LINK_STAY"}]},{agente:"Locar",codigoPerfil:"92533",agenteCCEE:"LOCAR",pontos:[{ponto:"RJLOPIENTR101",descricao:"Locar Rio",fileName:"LOCAR"},{ponto:"SPLOGUENTR101",descricao:"Locar Matriz",fileName:"LOCARMATRIZ"}]},{agente:"SRPlast",codigoPerfil:"86592",agenteCCEE:"SRPLAST",pontos:[{ponto:"RJSRM2ENTR101",descricao:"MABA 372",fileName:"SRPLAST_MABA372"},{ponto:"RJSRMBENTR101",descricao:"MABA 400",fileName:"SRPLAST_MABA400"}]},{agente:"Eliel",codigoPerfil:"38052",agenteCCEE:"ELIEL",pontos:[{ponto:"RJELPSENTR101",descricao:"Pr\xe9dio Novo",fileName:"ELIEL_ELIELPN"},{ponto:"RJEFDLENTR101",descricao:"Pr\xe9dio Velho",fileName:"ELIEL_ELIELPV"}]},{agente:"CECCM",codigoPerfil:"37745",agenteCCEE:"CECCM",pontos:[{ponto:"RJCCAEENTR101",descricao:"373",fileName:"CECCM373"},{ponto:"RJCCSSENTR101",descricao:"632",fileName:"CECCM632"},{ponto:"RJECDMENTR101",descricao:"403",fileName:"CECCM403"}]},{agente:"CECCM ESPECIAL",codigoPerfil:"39741",agenteCCEE:"CECCM ESPECIAL",pontos:[{ponto:"RJECIAENTR101",descricao:"411",fileName:"CECCM411"}]}],E=t(12),d=t(8),f=t(14),p=function(e){return e.getHours().toString().padStart(2,0)+":"+e.getMinutes().toString().padStart(2,0)+":00"},C=function(e){return e.getFullYear()+"-"+(e.getMonth()+1).toString().padStart(2,0)+"-"+e.getDate().toString().padStart(2,0)},N=function(){var e=new Date,a=e.getMonth(),t=1===a?e.getFullYear()-1:e.getFullYear();return new Date(t,1===a?11:a-1,1)},g=function(e){var a,t=e.onChange,l=Object(n.useState)([]),i=Object(c.a)(l,2),r=i[0],s=i[1],p=Object(n.useState)({dataInicial:N(),dataFinal:(a=new Date,new Date(a.getFullYear(),a.getMonth(),0)),horarioInicial:new Date(2022,1,1,0,0,0),horarioFinal:new Date(2022,1,1,23,0,0),agente:"",ponto:""}),C=Object(c.a)(p,2),g=C[0],u=C[1],R=function(e){var a=Object(E.a)({},g);a[e.target.id]=e.value,u(a),t(a),console.log(g.horarioInicial)};return Object(n.useEffect)(function(){g.agente&&(s(g.agente.pontos),u(Object(E.a)({},g,{ponto:null})))},[g.agente]),Object(n.useEffect)(function(){t(g)},[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"flex flex-column gap-5"},o.a.createElement("div",{className:"flex flex-row gap-3 justify-content-center"},o.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},o.a.createElement("span",{className:"p-float-label"},o.a.createElement(d.a,{dateFormat:"dd/mm/yy",id:"dataInicial",value:g.dataInicial,onChange:function(e){return R(e)}}),o.a.createElement("label",{htmlFor:"monthpicker"},"Data Inicial"))),o.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},o.a.createElement("span",{className:"p-float-label"},o.a.createElement(d.a,{dateFormat:"dd/mm/yy",id:"dataFinal",value:g.dataFinal,onChange:function(e){return R(e)}}),o.a.createElement("label",{htmlFor:"dataFinal"},"Data Final")))),o.a.createElement("div",{className:"flex flex-row gap-3 justify-content-center"},o.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},o.a.createElement("span",{className:"p-float-label"},o.a.createElement(d.a,{id:"horarioInicial",value:g.horarioInicial,onChange:function(e){return R(e)},timeOnly:!0,hourFormat:"24"}),o.a.createElement("label",{htmlFor:"monthpicker"},"Hor\xe1rio Inicial"))),o.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},o.a.createElement("span",{className:"p-float-label"},o.a.createElement(d.a,{id:"horarioFinal",value:g.horarioFinal,onChange:function(e){return R(e)},timeOnly:!0,hourFormat:"24"}),o.a.createElement("label",{htmlFor:"monthpicker"},"Hor\xe1rio Final")))),o.a.createElement("div",{className:"flex flex-column justify-content-center"},o.a.createElement("span",{className:"p-float-label"},o.a.createElement(f.a,{id:"agente",className:"w-full",value:g.agente,options:m,onChange:function(e){return R(e)},optionLabel:"agente"}),o.a.createElement("label",{htmlFor:"agente"},"Agente"))),o.a.createElement("div",{className:"flex flex-column gap-1 justify-content-center"},o.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},o.a.createElement("span",{className:"p-float-label"},o.a.createElement(f.a,{id:"ponto",className:"w-full",value:g.ponto,options:r,onChange:function(e){return R(e)},optionLabel:"ponto"}),o.a.createElement("label",{htmlFor:"monthpicker"},"Ponto de Medi\xe7\xe3o"))),o.a.createElement("div",{className:"flex font-bold flex-row justify-content-end",style:{minHeight:"2rem"}},g.ponto&&g.ponto.descricao))))},u=function(e){var a=e.onChange,t=Object(n.useState)({date:N()}),l=Object(c.a)(t,2),i=l[0],r=l[1],s=function(e){var t=Object(E.a)({},i);t[e.target.id]=e.value,r(t),a(t)};return Object(n.useEffect)(function(){a(i)},[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"flex flex-column gap-2 px-5 mb-5"},o.a.createElement("label",{htmlFor:"monthpicker"},"M\xeas de Medi\xe7\xe3o"),o.a.createElement(d.a,{className:"flex-1",id:"date",value:i.date,onChange:function(e){return s(e)},view:"month",dateFormat:"mm/yy"})))},R=t(18),A=t.n(R),I=function(){var e=Object(n.useState)(!0),a=Object(c.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)(""),E=Object(c.a)(i,2),d=E[0],f=E[1],N=Object(n.useState)(""),R=Object(c.a)(N,2),I=R[0],O=R[1],T=Object(n.useState)(!1),b=Object(c.a)(T,2),h=b[0],L=b[1],D=function(e){L(!0),fetch("http://localhost:5000/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:t?B(e):S(e)}).then(function(e){if(e.ok)return e.blob();throw new Error("Something went wrong")}).then(function(a){var n=window.URL.createObjectURL(a),o=document.createElement("a");o.href=n,!0===e?t?o.setAttribute("download","Medi\xe7\xf5es.zip"):o.setAttribute("download","MED_"+d.ponto.fileName+"_"+d.dataInicial.getFullYear().toString()+"_"+(d.dataInicial.getMonth()+1).toString().padStart(2,0)+".xlsx"):o.setAttribute("download","HORAS FALTANTES.xlsx"),document.body.appendChild(o),o.click(),document.body.removeChild(o),L(!1)}).catch(function(e){console.log(e),L(!1)})},B=function(e){console.log(I);var a,t=C(I.date),n=C((a=I.date,new Date(a.getFullYear(),a.getMonth()+1,0))),o=JSON.stringify({startDate:t+"T00:00:00",endDate:n+"T23:00:00",tipoMedicao:e?"FINAL":"FALTANTES",infoAgente:m,simple:"true"});return console.log(o),o},S=function(e){console.log(d);var a=C(d.dataInicial),t=C(d.dataFinal),n=p(d.horarioInicial),o=p(d.horarioFinal),l=JSON.stringify({startDate:a+"T"+n,endDate:t+"T"+o,tipoMedicao:e?"FINAL":"FALTANTES",infoAgente:[{agente:d.agente.agente,codigoPerfil:d.agente.codigoPerfil,agenteCCEE:d.agente.agenteCCEE,pontos:[{ponto:d.ponto.ponto,descricao:d.ponto.descricao,fileName:d.ponto.fileName}]}],simple:"false"});return console.log(l),l};return o.a.createElement("div",{className:"flex flex-column justify-content-center gap-6 w-30rem"},o.a.createElement(s.a,{style:{transition:"height 4s"}},o.a.createElement("div",{className:"flex justify-content-center"},o.a.createElement("img",{src:A.a,className:"logo",alt:"Relais Energia"})),o.a.createElement("div",{className:"flex flex-column gap-1 px-4"},t?o.a.createElement(u,{onChange:function(e){O(e)}}):o.a.createElement(g,{onChange:function(e){f(e)}}),o.a.createElement("div",{className:"flex flex-row gap-4 justify-content-center"},o.a.createElement(r.a,{disabled:h,label:!h&&"Baixar",icon:h&&"pi pi-spin pi-spinner",onClick:function(){return D(!0)},className:"p-button-outlined p-button-rounded"}),o.a.createElement(r.a,{disabled:h,label:!h&&"Horas Faltantes",icon:h&&"pi pi-spin pi-spinner",onClick:function(){return D(!1)},className:"p-button-outlined p-button-rounded p-button-danger"})))),o.a.createElement("div",{className:"flex justify-content-center"},o.a.createElement("div",{className:"flex justify-content-center"},o.a.createElement(r.a,{icon:t?"pi pi-angle-down":"pi pi-angle-up",onClick:function(){return l(!t)},className:"p-button-raised p-button-rounded"}))))};var O=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"h-full w-full overflow-hidden"},o.a.createElement("div",{className:"flex h-screen align-items-center justify-content-center"},o.a.createElement(I,null))))};t(31),t(32),t(33),t(34);i.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(O,null)))}},[[21,1,2]]]);
//# sourceMappingURL=main.1d400226.chunk.js.map