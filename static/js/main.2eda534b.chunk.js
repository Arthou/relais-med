(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,a,t){e.exports=t.p+"static/media/logoRelais.b72ddc5e.png"},21:function(e,a,t){e.exports=t(35)},29:function(e,a,t){},30:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(16),i=t.n(l),c=(t(29),t(30),t(5)),r=t(7),s=t(17),m=[{agente:"PrimaSea",codigoPerfil:"92532",agenteCCEE:"PRIMASEA",pontos:[{ponto:"BAPRCDENTR101",descricao:"\u2800",fileName:"PRIMASEA"}]},{agente:"Am\xe9ricas Barra",codigoPerfil:"82044",agenteCCEE:"HOTEL AMERICAS BARRA",pontos:[{ponto:"RJHABTENTR101",descricao:"\u2800",fileName:"AMBARRA"}]},{agente:"Am\xe9ricas Copacabana",codigoPerfil:"84777",agenteCCEE:"AMERICAS COPACABANA",pontos:[{ponto:"RJACBRENTR101",descricao:"\u2800",fileName:"AMCOPA"}]},{agente:"Aquario",codigoPerfil:"82523",agenteCCEE:"AQUARIO-RIO",pontos:[{ponto:"RJAQGAENTR101",descricao:"\u2800",fileName:"AQUARIO"}]},{agente:"Brisa",codigoPerfil:"71112",agenteCCEE:"BRISA",pontos:[{ponto:"RJBRIBENTR101",descricao:"Brisa",fileName:"BRISA"},{ponto:"RJHICTENTR101",descricao:"Imperial",fileName:"IMPERIAL"},{ponto:"RJVHBRENTR101",descricao:"Vilamar",fileName:"VILAMAR"}]},{agente:"Ed. Cidade do Carmo",codigoPerfil:"79181",agenteCCEE:"EDIFICIO CIDADE DO CARMO",pontos:[{ponto:"RJEDCCENTR101",descricao:"\u2800",fileName:"CECC"}]},{agente:"Ed. Avenida Central",codigoPerfil:"70058",agenteCCEE:"EDIFICIO AVENIDA CENTRAL",pontos:[{ponto:"RJCNDCENTR101",descricao:"\u2800",fileName:"CEAC"}]},{agente:"Condom\xednio Jardim",codigoPerfil:"82222",agenteCCEE:"CONDOMINIO JARDIM BARRA TIJUCA",pontos:[{ponto:"RJCJBTENTR101",descricao:"\u2800",fileName:"CJBT"}]},{agente:"Ed. Rodolpho De Paoli",codigoPerfil:"91905",agenteCCEE:"DE PAOLI",pontos:[{ponto:"RJDPNPENTR101",descricao:"\u2800",fileName:"DEPAOLI"}]},{agente:"Downtown",codigoPerfil:"70544",agenteCCEE:"DOWNTOWN",pontos:[{ponto:"RJDOBTALBL106",descricao:"Bloco 1",fileName:"DOWNTOWN_BL1"},{ponto:"RJDOBTALBL605",descricao:"Bloco 6",fileName:"DOWNTOWN_BL6"},{ponto:"RJDOBTALCND01",descricao:"Bloco 17",fileName:"DOWNTOWN_BL17"},{ponto:"RJDOBTALCHI04",descricao:"Bloco 17SM",fileName:"DOWNTOWN_BL17SM"},{ponto:"RJDOBTALDBL02",descricao:"Bloco 11/12",fileName:"DOWNTOWN_BL1112"},{ponto:"RJDOBTALSHO03",descricao:"Bloco 14/18",fileName:"DOWNTOWN_BL1418"}]},{agente:"Iate Clube",codigoPerfil:"84772",agenteCCEE:"ICRJ",pontos:[{ponto:"RJICRJENTR101",descricao:"Rio",fileName:"ICRJ_RIO"},{ponto:"RJICARENTR101",descricao:"Angra",fileName:"ICRJ_ANGRA"},{ponto:"RJICCFENTR101",descricao:"Cabo Frio",fileName:"ICRJ_CABOFRIO"}]},{agente:"Independ\xeancia",codigoPerfil:"83662",agenteCCEE:"INDEPENDENCIA ADM",pontos:[{ponto:"RJIDCBENTR101",descricao:"ABC",fileName:"INDEPEN_ABC"},{ponto:"RJIDBFENTR101",descricao:"BBC",fileName:"INDEPEN_BBC"},{ponto:"RJIDCNENTR101",descricao:"PBC",fileName:"INDEPEN_PBC"}]},{agente:"Link",codigoPerfil:"86321",agenteCCEE:"LINK",pontos:[{ponto:"RJLYASENTR101",descricao:"Office",fileName:"LINK_OFFICE"},{ponto:"RJLIASENTR101",descricao:"Stay",fileName:"LINK_STAY"}]},{agente:"Locar",codigoPerfil:"92533",agenteCCEE:"LOCAR",pontos:[{ponto:"RJLOPIENTR101",descricao:"Locar Rio",fileName:"LOCAR"},{ponto:"SPLOGUENTR101",descricao:"Locar Matriz",fileName:"LOCARMATRIZ"}]},{agente:"SRPlast",codigoPerfil:"86592",agenteCCEE:"SRPLAST",pontos:[{ponto:"RJSRM2ENTR101",descricao:"MABA 372",fileName:"SRPLAST_MABA372"},{ponto:"RJSRMBENTR101",descricao:"MABA 400",fileName:"SRPLAST_MABA400"}]},{agente:"Eliel",codigoPerfil:"38052",agenteCCEE:"ELIEL",pontos:[{ponto:"RJELPSENTR101",descricao:"Pr\xe9dio Novo",fileName:"ELIEL_ELIELPN"},{ponto:"RJEFDLENTR101",descricao:"Pr\xe9dio Velho",fileName:"ELIEL_ELIELPV"}]}],d=t(12),f=t(8),E=t(14),p=function(){var e=new Date;return e.setDate(1),e.setHours(0),e},u=function(e){return e.getHours().toString().padStart(2,0)+":"+e.getMinutes().toString().padStart(2,0)+":00"},g=function(e){return e.getFullYear()+"-"+(e.getMonth()+1).toString().padStart(2,0)+"-"+e.getDate().toString().padStart(2,0)},N=function(){var e=new Date,a=e.getMonth(),t=1===a?e.getFullYear()-1:e.getFullYear();return new Date(t,1===a?11:a-1,1)},C=function(e){var a=e.onChange,t=Object(n.useState)([]),l=Object(c.a)(t,2),i=l[0],r=l[1],s=Object(n.useState)({dataInicial:N(),dataFinal:p(),horarioInicial:new Date(2022,1,1,1,0,0),horarioFinal:new Date(2022,1,1,0,0,0),agente:"",ponto:""}),u=Object(c.a)(s,2),g=u[0],C=u[1],R=function(e){var t=Object(d.a)({},g);t[e.target.id]=e.value,C(t),a(t),console.log(g.horarioInicial)};return Object(n.useEffect)(function(){g.agente&&(r(g.agente.pontos),C(Object(d.a)({},g,{ponto:null})))},[g.agente]),Object(n.useEffect)(function(){a(g)},[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"flex flex-column gap-5"},o.a.createElement("div",{className:"flex flex-row gap-3 justify-content-center"},o.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},o.a.createElement("span",{className:"p-float-label"},o.a.createElement(f.a,{dateFormat:"dd/mm/yy",id:"dataInicial",value:g.dataInicial,onChange:function(e){return R(e)}}),o.a.createElement("label",{htmlFor:"monthpicker"},"Data Inicial"))),o.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},o.a.createElement("span",{className:"p-float-label"},o.a.createElement(f.a,{dateFormat:"dd/mm/yy",id:"dataFinal",value:g.dataFinal,onChange:function(e){return R(e)}}),o.a.createElement("label",{htmlFor:"dataFinal"},"Data Final")))),o.a.createElement("div",{className:"flex flex-row gap-3 justify-content-center"},o.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},o.a.createElement("span",{className:"p-float-label"},o.a.createElement(f.a,{id:"horarioInicial",value:g.horarioInicial,onChange:function(e){return R(e)},timeOnly:!0,hourFormat:"24"}),o.a.createElement("label",{htmlFor:"monthpicker"},"Hor\xe1rio Inicial"))),o.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},o.a.createElement("span",{className:"p-float-label"},o.a.createElement(f.a,{id:"horarioFinal",value:g.horarioFinal,onChange:function(e){return R(e)},timeOnly:!0,hourFormat:"24"}),o.a.createElement("label",{htmlFor:"monthpicker"},"Hor\xe1rio Final")))),o.a.createElement("div",{className:"flex flex-column justify-content-center"},o.a.createElement("span",{className:"p-float-label"},o.a.createElement(E.a,{id:"agente",className:"w-full",value:g.agente,options:m,onChange:function(e){return R(e)},optionLabel:"agente"}),o.a.createElement("label",{htmlFor:"agente"},"Agente"))),o.a.createElement("div",{className:"flex flex-column gap-1 justify-content-center"},o.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},o.a.createElement("span",{className:"p-float-label"},o.a.createElement(E.a,{id:"ponto",className:"w-full",value:g.ponto,options:i,onChange:function(e){return R(e)},optionLabel:"ponto"}),o.a.createElement("label",{htmlFor:"monthpicker"},"Ponto de Medi\xe7\xe3o"))),o.a.createElement("div",{className:"flex font-bold flex-row justify-content-end",style:{minHeight:"2rem"}},g.ponto&&g.ponto.descricao))))},R=function(e){var a=e.onChange,t=Object(n.useState)({date:N()}),l=Object(c.a)(t,2),i=l[0],r=l[1],s=function(e){var t=Object(d.a)({},i);t[e.target.id]=e.value,r(t),a(t)};return Object(n.useEffect)(function(){a(i)},[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"flex flex-column gap-2 px-5 mb-5"},o.a.createElement("label",{htmlFor:"monthpicker"},"M\xeas de Medi\xe7\xe3o"),o.a.createElement(f.a,{className:"flex-1",id:"date",value:i.date,onChange:function(e){return s(e)},view:"month",dateFormat:"mm/yy"})))},A=t(18),I=t.n(A),O=function(){var e=Object(n.useState)(!0),a=Object(c.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)(""),d=Object(c.a)(i,2),f=d[0],E=d[1],p=Object(n.useState)(""),N=Object(c.a)(p,2),A=N[0],O=N[1],b=Object(n.useState)(!1),h=Object(c.a)(b,2),T=h[0],L=h[1],D=function(e){L(!0),fetch("http://localhost:5000/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:t?B(e):S(e)}).then(function(e){if(e.ok)return e.blob();throw new Error("Something went wrong")}).then(function(a){var n=window.URL.createObjectURL(a),o=document.createElement("a");o.href=n,1==e?t?o.setAttribute("download","Medi\xe7\xf5es.zip"):o.setAttribute("download","MED_"+f.ponto.fileName+"_"+f.dataInicial.getFullYear().toString()+"_"+(f.dataInicial.getMonth()+1).toString().padStart(2,0)+".xlsx"):o.setAttribute("download","HORAS FALTANTES.xlsx"),document.body.appendChild(o),o.click(),document.body.removeChild(o),L(!1)}).catch(function(e){console.log(e),L(!1)})},B=function(e){console.log(A);var a=g(A.date),t=g(function(e){var a=new Date(e.getFullYear(),e.getMonth(),e.getDate());return a.setMonth(e.getMonth()+1),a.setDate(1),a}(A.date)),n=JSON.stringify({startDate:a+"T01:00:00",endDate:t+"T00:00:00",tipoMedicao:e?"FINAL":"FALTANTES",infoAgente:m,simple:"true"});return console.log(n),n},S=function(e){console.log(f);var a=g(f.dataInicial),t=g(f.dataFinal),n=u(f.horarioInicial),o=u(f.horarioFinal),l=JSON.stringify({startDate:a+"T"+n,endDate:t+"T"+o,tipoMedicao:e?"FINAL":"FALTANTES",infoAgente:[{agente:f.agente.agente,codigoPerfil:f.agente.codigoPerfil,agenteCCEE:f.agente.agenteCCEE,pontos:[{ponto:f.ponto.ponto,descricao:f.ponto.descricao,fileName:f.ponto.fileName}]}],simple:"false"});return console.log(l),l};return o.a.createElement("div",{className:"flex flex-column justify-content-center gap-6 w-30rem"},o.a.createElement(s.a,{style:{transition:"height 4s"}},o.a.createElement("div",{className:"flex justify-content-center"},o.a.createElement("img",{src:I.a,className:"logo",alt:"Relais Energia"})),o.a.createElement("div",{className:"flex flex-column gap-1 px-4"},t?o.a.createElement(R,{onChange:function(e){O(e)}}):o.a.createElement(C,{onChange:function(e){E(e)}}),o.a.createElement("div",{className:"flex flex-row gap-4 justify-content-center"},o.a.createElement(r.a,{disabled:T,label:!T&&"Baixar",icon:T&&"pi pi-spin pi-spinner",onClick:function(){return D(!0)},className:"p-button-outlined p-button-rounded"}),o.a.createElement(r.a,{disabled:T,label:!T&&"Horas Faltantes",icon:T&&"pi pi-spin pi-spinner",onClick:function(){return D(!1)},className:"p-button-outlined p-button-rounded p-button-danger"})))),o.a.createElement("div",{className:"flex justify-content-center"},o.a.createElement("div",{className:"flex justify-content-center"},o.a.createElement(r.a,{icon:t?"pi pi-angle-down":"pi pi-angle-up",onClick:function(){return l(!t)},className:"p-button-raised p-button-rounded"}))))};var b=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"h-full w-full overflow-hidden"},o.a.createElement("div",{className:"flex h-screen align-items-center justify-content-center"},o.a.createElement(O,null))))};t(31),t(32),t(33),t(34);i.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)))}},[[21,1,2]]]);
//# sourceMappingURL=main.2eda534b.chunk.js.map