(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,a,t){e.exports=t.p+"static/media/logoRelais.b72ddc5e.png"},21:function(e,a,t){e.exports=t(35)},29:function(e,a,t){},30:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var o=t(0),n=t.n(o),l=t(16),i=t.n(l),c=(t(29),t(30),t(5)),r=t(7),s=t(17),d=[{agente:"PrimaSea",codigoPerfil:"92532",agenteCCEE:"PRIMASEA",pontos:[{ponto:"BAPRCDENTR101",descricao:"\u2800",fileName:"PRIMASEA"}]},{agente:"Am\xe9ricas Barra",codigoPerfil:"82044",agenteCCEE:"HOTEL AMERICAS BARRA",pontos:[{ponto:"RJHABTENTR101",descricao:"\u2800",fileName:"AMBARRA"}]},{agente:"Am\xe9ricas Copacabana",codigoPerfil:"84777",agenteCCEE:"AMERICAS COPACABANA",pontos:[{ponto:"RJACBRENTR101",descricao:"\u2800",fileName:"AMCOPA"}]},{agente:"Aquario",codigoPerfil:"82523",agenteCCEE:"AQUARIO-RIO",pontos:[{ponto:"RJAQGAENTR101",descricao:"\u2800",fileName:"AQUARIO"}]},{agente:"Brisa",codigoPerfil:"71112",agenteCCEE:"BRISA",pontos:[{ponto:"RJBRIBENTR101",descricao:"Brisa",fileName:"BRISA"},{ponto:"RJHICTENTR101",descricao:"Imperial",fileName:"IMPERIAL"},{ponto:"RJVHBRENTR101",descricao:"Vilamar",fileName:"VILAMAR"}]},{agente:"Ed. Cidade do Carmo",codigoPerfil:"79181",agenteCCEE:"EDIFICIO CIDADE DO CARMO",pontos:[{ponto:"RJEDCCENTR101",descricao:"\u2800",fileName:"CECC"}]},{agente:"Ed. Avenida Central",codigoPerfil:"70058",agenteCCEE:"EDIFICIO AVENIDA CENTRAL",pontos:[{ponto:"RJCNDCENTR101",descricao:"\u2800",fileName:"CEAC"}]},{agente:"Condom\xednio Jardim",codigoPerfil:"82222",agenteCCEE:"CONDOMINIO JARDIM BARRA TIJUCA",pontos:[{ponto:"RJCJBTENTR101",descricao:"\u2800",fileName:"CJBT"}]},{agente:"Ed. Rodolpho De Paoli",codigoPerfil:"91905",agenteCCEE:"DE PAOLI",pontos:[{ponto:"RJDPNPENTR101",descricao:"\u2800",fileName:"DEPAOLI"}]},{agente:"Downtown",codigoPerfil:"70544",agenteCCEE:"DOWNTOWN",pontos:[{ponto:"RJDOBTALBL106",descricao:"Bloco 1",fileName:"DOWNTOWN_BL1"},{ponto:"RJDOBTALBL605",descricao:"Bloco 6",fileName:"DOWNTOWN_BL6"},{ponto:"RJDOBTALCND01",descricao:"Bloco 17",fileName:"DOWNTOWN_BL17"},{ponto:"RJDOBTALCHI04",descricao:"Bloco 17SM",fileName:"DOWNTOWN_BL17SM"},{ponto:"RJDOBTALDBL02",descricao:"Bloco 11/12",fileName:"DOWNTOWN_BL1112"},{ponto:"RJDOBTALSHO03",descricao:"Bloco 14/18",fileName:"DOWNTOWN_BL1418"}]},{agente:"Iate Clube",codigoPerfil:"84772",agenteCCEE:"ICRJ",pontos:[{ponto:"RJICRJENTR101",descricao:"Rio",fileName:"ICRJ_RIO"},{ponto:"RJICARENTR101",descricao:"Angra",fileName:"ICRJ_ANGRA"},{ponto:"RJICCFENTR101",descricao:"Cabo Frio",fileName:"ICRJ_CABOFRIO"}]},{agente:"Independ\xeancia",codigoPerfil:"83662",agenteCCEE:"INDEPENDENCIA ADM",pontos:[{ponto:"RJIDCBENTR101",descricao:"ABC",fileName:"INDEPEN_ABC"},{ponto:"RJIDBFENTR101",descricao:"BBC",fileName:"INDEPEN_BBC"},{ponto:"RJIDCNENTR101",descricao:"PBC",fileName:"INDEPEN_PBC"}]},{agente:"Link",codigoPerfil:"86321",agenteCCEE:"LINK",pontos:[{ponto:"RJLYASENTR101",descricao:"Office",fileName:"LINK_OFFICE"},{ponto:"RJLIASENTR101",descricao:"Stay",fileName:"LINK_STAY"}]},{agente:"Locar",codigoPerfil:"92533",agenteCCEE:"LOCAR",pontos:[{ponto:"RJLOPIENTR101",descricao:"Locar Rio",fileName:"LOCAR"},{ponto:"SPLOGUENTR101",descricao:"Locar Matriz",fileName:"LOCARMATRIZ"}]},{agente:"SRPlast",codigoPerfil:"86592",agenteCCEE:"SRPLAST",pontos:[{ponto:"RJSRM2ENTR101",descricao:"MABA 372",fileName:"SRPLAST_MABA372"},{ponto:"RJSRMBENTR101",descricao:"MABA 400",fileName:"SRPLAST_MABA400"}]},{agente:"Eliel",codigoPerfil:"38052",agenteCCEE:"ELIEL",pontos:[{ponto:"RJELPSENTR101",descricao:"Pr\xe9dio Novo",fileName:"ELIEL_ELIELPN"},{ponto:"RJEFDLENTR101",descricao:"Pr\xe9dio Velho",fileName:"ELIEL_ELIELPV"}]},{agente:"Ed. Centro C\xe2ndido Mendes",codigoPerfil:"37745",agenteCCEE:"CECCM",pontos:[{ponto:"RJCCAEENTR101",descricao:"373",fileName:"CECCM373"},{ponto:"RJCCSSENTR101",descricao:"632",fileName:"CECCM632"},{ponto:"RJECDMENTR101",descricao:"403",fileName:"CECCM403"}]},{agente:"Ed. Centro C\xe2ndido Mendes ESP.",codigoPerfil:"39741",agenteCCEE:"CECCM ESPECIAL",pontos:[{ponto:"RJECIAENTR101",descricao:"411",fileName:"CECCM411"}]},{agente:"CCN - Centro de Conven\xe7\xf5es",codigoPerfil:"71544",agenteCCEE:"CCN",pontos:[{ponto:"RJCCNCENTR101",descricao:"CCN",fileName:"CCN"}]},{agente:"CCN - Torre Norte",codigoPerfil:"23561",agenteCCEE:"CCN - TORRE NORTE",pontos:[{ponto:"RJTNCNENTR101",descricao:"CCN TN",fileName:"CCN_TN"}]},{agente:"RioCidadeNova ADM",codigoPerfil:"81763",agenteCCEE:"RCN",pontos:[{ponto:"RJRICNENTR101",descricao:"RCN",fileName:"RCN"}]}],E=t(12),m=t(8),f=t(14),C=function(e){return e.getHours().toString().padStart(2,0)+":"+e.getMinutes().toString().padStart(2,0)+":00"},N=function(e){return e.getFullYear()+"-"+(e.getMonth()+1).toString().padStart(2,0)+"-"+e.getDate().toString().padStart(2,0)},p=function(){var e=new Date,a=e.getMonth(),t=0===a?e.getFullYear()-1:e.getFullYear();return new Date(t,0===a?11:a-1,1)},g=function(e){var a,t=e.onChange,l=Object(o.useState)([]),i=Object(c.a)(l,2),r=i[0],s=i[1],C=Object(o.useState)({dataInicial:p(),dataFinal:(a=new Date,new Date(a.getFullYear(),a.getMonth(),0)),horarioInicial:new Date(2022,1,1,0,0,0),horarioFinal:new Date(2022,1,1,23,0,0),agente:"",ponto:""}),N=Object(c.a)(C,2),g=N[0],u=N[1],R=function(e){var a=Object(E.a)({},g);a[e.target.id]=e.value,u(a),t(a),console.log(g.horarioInicial)};return Object(o.useEffect)(function(){g.agente&&(s(g.agente.pontos),u(Object(E.a)({},g,{ponto:null})))},[g.agente]),Object(o.useEffect)(function(){t(g)},[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"flex flex-column gap-5"},n.a.createElement("div",{className:"flex flex-row gap-3 justify-content-center"},n.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},n.a.createElement("span",{className:"p-float-label"},n.a.createElement(m.a,{dateFormat:"dd/mm/yy",id:"dataInicial",value:g.dataInicial,onChange:function(e){return R(e)}}),n.a.createElement("label",{htmlFor:"monthpicker"},"Data Inicial"))),n.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},n.a.createElement("span",{className:"p-float-label"},n.a.createElement(m.a,{dateFormat:"dd/mm/yy",id:"dataFinal",value:g.dataFinal,onChange:function(e){return R(e)}}),n.a.createElement("label",{htmlFor:"dataFinal"},"Data Final")))),n.a.createElement("div",{className:"flex flex-row gap-3 justify-content-center"},n.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},n.a.createElement("span",{className:"p-float-label"},n.a.createElement(m.a,{id:"horarioInicial",value:g.horarioInicial,onChange:function(e){return R(e)},timeOnly:!0,hourFormat:"24"}),n.a.createElement("label",{htmlFor:"monthpicker"},"Hor\xe1rio Inicial"))),n.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},n.a.createElement("span",{className:"p-float-label"},n.a.createElement(m.a,{id:"horarioFinal",value:g.horarioFinal,onChange:function(e){return R(e)},timeOnly:!0,hourFormat:"24"}),n.a.createElement("label",{htmlFor:"monthpicker"},"Hor\xe1rio Final")))),n.a.createElement("div",{className:"flex flex-column justify-content-center"},n.a.createElement("span",{className:"p-float-label"},n.a.createElement(f.a,{id:"agente",className:"w-full",value:g.agente,options:d,onChange:function(e){return R(e)},optionLabel:"agente"}),n.a.createElement("label",{htmlFor:"agente"},"Agente"))),n.a.createElement("div",{className:"flex flex-column gap-1 justify-content-center"},n.a.createElement("div",{className:"flex flex-1 flex-column gap-2"},n.a.createElement("span",{className:"p-float-label"},n.a.createElement(f.a,{id:"ponto",className:"w-full",value:g.ponto,options:r,onChange:function(e){return R(e)},optionLabel:"ponto"}),n.a.createElement("label",{htmlFor:"monthpicker"},"Ponto de Medi\xe7\xe3o"))),n.a.createElement("div",{className:"flex font-bold flex-row justify-content-end",style:{minHeight:"2rem"}},g.ponto&&g.ponto.descricao))))},u=function(e){var a=e.onChange,t=Object(o.useState)({date:p()}),l=Object(c.a)(t,2),i=l[0],r=l[1],s=function(e){var t=Object(E.a)({},i);t[e.target.id]=e.value,r(t),a(t)};return Object(o.useEffect)(function(){a(i)},[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"flex flex-column gap-2 px-5 mb-5"},n.a.createElement("label",{htmlFor:"monthpicker"},"M\xeas de Medi\xe7\xe3o"),n.a.createElement(m.a,{className:"flex-1",id:"date",value:i.date,onChange:function(e){return s(e)},view:"month",dateFormat:"mm/yy"})))},R=t(18),A=t.n(R),I=function(){var e=Object(o.useState)(!0),a=Object(c.a)(e,2),t=a[0],l=a[1],i=Object(o.useState)(""),E=Object(c.a)(i,2),m=E[0],f=E[1],p=Object(o.useState)(""),R=Object(c.a)(p,2),I=R[0],O=R[1],T=Object(o.useState)(!1),b=Object(c.a)(T,2),h=b[0],L=b[1],D=function(e){L(!0),fetch("http://localhost:5000/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:t?B(e):P(e)}).then(function(e){if(e.ok)return e.blob();throw new Error("Something went wrong")}).then(function(a){var o=window.URL.createObjectURL(a),n=document.createElement("a");n.href=o,!0===e?t?n.setAttribute("download","Medi\xe7\xf5es.zip"):n.setAttribute("download","MED_"+m.ponto.fileName+"_"+m.dataInicial.getFullYear().toString()+"_"+(m.dataInicial.getMonth()+1).toString().padStart(2,0)+".xlsx"):n.setAttribute("download","HORAS FALTANTES.xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),L(!1)}).catch(function(e){console.log(e),L(!1)})},B=function(e){console.log(I);var a,t=N(I.date),o=N((a=I.date,new Date(a.getFullYear(),a.getMonth()+1,0))),n=JSON.stringify({startDate:t+"T00:00:00",endDate:o+"T23:00:00",tipoMedicao:e?"FINAL":"FALTANTES",infoAgente:d,simple:"true"});return console.log(n),n},P=function(e){console.log(m);var a=N(m.dataInicial),t=N(m.dataFinal),o=C(m.horarioInicial),n=C(m.horarioFinal),l=JSON.stringify({startDate:a+"T"+o,endDate:t+"T"+n,tipoMedicao:e?"FINAL":"FALTANTES",infoAgente:[{agente:m.agente.agente,codigoPerfil:m.agente.codigoPerfil,agenteCCEE:m.agente.agenteCCEE,pontos:[{ponto:m.ponto.ponto,descricao:m.ponto.descricao,fileName:m.ponto.fileName}]}],simple:"false"});return console.log(l),l};return n.a.createElement("div",{className:"flex flex-column justify-content-center gap-6 w-30rem"},n.a.createElement(s.a,{style:{transition:"height 4s"}},n.a.createElement("div",{className:"flex justify-content-center"},n.a.createElement("img",{src:A.a,className:"logo",alt:"Relais Energia"})),n.a.createElement("div",{className:"flex flex-column gap-1 px-4"},t?n.a.createElement(u,{onChange:function(e){O(e)}}):n.a.createElement(g,{onChange:function(e){f(e)}}),n.a.createElement("div",{className:"flex flex-row gap-4 justify-content-center"},n.a.createElement(r.a,{disabled:h,label:!h&&"Baixar",icon:h&&"pi pi-spin pi-spinner",onClick:function(){return D(!0)},className:"p-button-outlined p-button-rounded"}),n.a.createElement(r.a,{disabled:h,label:!h&&"Horas Faltantes",icon:h&&"pi pi-spin pi-spinner",onClick:function(){return D(!1)},className:"p-button-outlined p-button-rounded p-button-danger"})))),n.a.createElement("div",{className:"flex justify-content-center"},n.a.createElement("div",{className:"flex justify-content-center"},n.a.createElement(r.a,{icon:t?"pi pi-angle-down":"pi pi-angle-up",onClick:function(){return l(!t)},className:"p-button-raised p-button-rounded"}))))};var O=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"h-full w-full overflow-hidden"},n.a.createElement("div",{className:"flex h-screen align-items-center justify-content-center"},n.a.createElement(I,null))))};t(31),t(32),t(33),t(34);i.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(O,null)))}},[[21,1,2]]]);
//# sourceMappingURL=main.1d93eeb4.chunk.js.map